# This configuration was generated by
# `rubocop --auto-gen-config`
# on 2023-04-01 11:36:34 UTC using RuboCop version 1.36.0.
# The point is for the user to remove these configuration records
# one by one as the offenses are removed from the code base.
# Note that changes in the inspected code, or installation of new
# versions of RuboCop, may require this file to be generated again.

# Configured rules: TODO move to main yml
Layout/ArgumentAlignment:
  EnforcedStyle: with_fixed_indentation
Layout/BeginEndAlignment:
  EnforcedStyleAlignWith: begin
Layout/BlockAlignment:
  EnforcedStyleAlignWith: start_of_block
Layout/EmptyLineAfterGuardClause:
  Enabled: false
Layout/EmptyLinesAroundModuleBody:
  EnforcedStyle: empty_lines_except_namespace
Layout/ExtraSpacing:
  AllowForAlignment: false
Layout/FirstArrayElementIndentation:
  EnforcedStyle: consistent
Layout/FirstHashElementIndentation:
  EnforcedStyle: consistent
Layout/MultilineMethodCallBraceLayout:
  EnforcedStyle: symmetrical
Layout/MultilineMethodCallIndentation:
  EnforcedStyle: indented_relative_to_receiver
Layout/SpaceAroundOperators:
  AllowForAlignment: false
Layout/SpaceInsideBlockBraces:
  SpaceBeforeBlockParameters: false
Layout/SpaceInsideHashLiteralBraces:
  EnforcedStyle: compact
Lint/AmbiguousBlockAssociation:
  AllowedPatterns: ["change"] # RSpec change matcher
Lint/AssignmentInCondition:
  AllowSafeAssignment: true
Naming/MethodParameterName:
  AllowedNames: [e, id]
Style/ClassAndModuleChildren:
  EnforcedStyle: compact
  Exclude: [
      "config/application.rb", # Avoiding changing rails application constants
      "config/initializers/**/*.rb",
      "lib/patches/**/*.rb",
    ]
Style/ClassEqualityComparison:
  AllowedMethods: []
Style/EmptyMethod:
  EnforcedStyle: expanded
Style/HashSyntax:
  EnforcedStyle: ruby19_no_mixed_keys
  EnforcedShorthandSyntax: consistent
Style/Lambda:
  EnforcedStyle: literal
Style/MixinGrouping:
  EnforcedStyle: grouped
Style/NegatedIf:
  EnforcedStyle: postfix
Style/RaiseArgs:
  EnforcedStyle: compact
Style/SpecialGlobalVars:
  EnforcedStyle: use_english_names
Style/SymbolProc:
  AllowMethodsWithArguments: true

# Intentionally disabled rules
Style/DoubleNegation:
  Enabled: false # Easier to parse than !something.nil?
Style/GuardClause:
  Enabled: false # Preferring not to use guard clauses from the middle of a method
Style/NestedTernaryOperator:
  Enabled: false # Reads nicely
Style/ParenthesesAroundCondition:
  Enabled: false # Aids readability
Style/RedundantBegin:
  Enabled: false # Aids readability
Style/RedundantSelf:
  Enabled: false # Aids readability
Style/RescueStandardError:
  Enabled: false # Misleading, as we could be rescuing a subclass of StandardError
Style/SlicingWithRange:
  Enabled: false # Aids readability
Style/SymbolArray:
  Enabled: false # Left to developer preference
Style/TernaryParentheses:
  Enabled: false # Aids readability if required for more complex expressions
Naming/VariableNumber:
  Enabled: false # Conflicts arise with attribute names of external resources
Style/WordArray:
  Enabled: false # Left to developer preference

# Backlog TODOs
Lint/MissingSuper:
  Enabled: false # To be implemented as a separate pass with isolated staging tests

Metrics/ParameterLists:
  Max: 8
Metrics/PerceivedComplexity:
  Max: 16
Metrics/AbcSize:
  Max: 123
Metrics/BlockLength:
  Max: 1268
Metrics/ClassLength:
  Max: 478 # Potentially disable
Metrics/MethodLength:
  Max: 101 # Decide on case by case basis
Metrics/ModuleLength:
  Max: 175 # Potentially disable
Style/Documentation:
  Enabled: false
Style/NumericLiterals:
  Enabled: false

# TODOs
Layout/LineLength:
  Max: 706 # 120
Lint/NonLocalExitFromIterator:
  Exclude:
    - "app/helpers/devise_helper.rb" # Disable until after design system as potential changes may have gone in
Style/IfUnlessModifier:
  Enabled: false

# RSpec
RSpec/AlignLeftLetBrace:
  Enabled: false
RSpec/AlignRightLetBrace:
  Enabled: false
RSpec/AnyInstance:
  Enabled: false
RSpec/BeEq:
  Enabled: false
RSpec/BeEql:
  Enabled: false
RSpec/DescribeMethod:
  Enabled: false
RSpec/ExampleLength:
  Enabled: false
RSpec/ExampleWithoutDescription:
  EnforcedStyle: single_line_only
RSpec/ExpectChange:
  EnforcedStyle: block
RSpec/IndexedLet:
  Max: 2
RSpec/ItBehavesLike:
  EnforcedStyle: it_should_behave_like
RSpec/MultipleExpectations:
  Enabled: false
RSpec/MultipleMemoizedHelpers:
  Enabled: false
RSpec/NestedGroups:
  Enabled: false
RSpec/NotToNot:
  Enabled: false

# TODO:
# need to dicuss with team: RSpec/ExampleWording
RSpec/ExampleWording:
  Enabled: false
RSpec/DescribedClass:
  Enabled: false
RSpec/LetSetup:
  Enabled: false
RSpec/Capybara/FeatureMethods:
  Enabled: false
RSpec/FilePath:
  Enabled: false
RSpec/DescribeClass:
  Enabled: false
RSpec/ContextWording:
  Enabled: false
RSpec/PredicateMatcher:
  Enabled: false
RSpec/RepeatedDescription:
  Enabled: false
RSpec/VoidExpect:
  Enabled: false
RSpec/RepeatedExample:
  Enabled: false
RSpec/IteratedExpectation:
  Enabled: false
RSpec/LeakyConstantDeclaration:
  Enabled: false
RSpec/ScatteredSetup:
  Enabled: false
RSpec/DescribeSymbol:
  Enabled: false
RSpec/ExpectInHook:
  Enabled: false

# TODO: Rubocop-FactoryBot
FactoryBot/CreateList:
  Enabled: false
FactoryBot/FactoryClassName:
  Enabled: false

# TODO: Rubocop-Capybara
Capybara/VisibilityMatcher:
  Enabled: false
